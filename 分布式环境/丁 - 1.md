# 丁博老师 第1章 分布式计算简介

## 1. 产生背景

### 1.1 计算技术的普及

- 计算机初期
    1. 科学计算和工程计算/计算量大，数据少
    2. 集中批处理方式

- 20世纪50年代后期
    1. 企业应用逐渐展开
    2. 数据量相对大/计算量相对较少
    3. 多终端，分时处理

- 20世纪70和80年代
    1. 微处理器和兼容机
    2. 进入各行各业，个人计算时代

### 1.2 网络技术的发展

60年代美苏冷战， 可靠性催生分布性

如果仅有一个集中的军事指挥中心，一旦被核武器摧毁，全国的军事指挥将处于瘫痪状态

- 分布计算1.0：以“计算”为中心
    如何将确定计算实体组合为可靠性更高或性能更优计算系统

- 分布计算2.0：以“联接”为中心
    如何将不确定的网络资源联接成为网络信息系统

## 2. 概念内涵

### 2.1 物理视图

处理器(CPU)

- 多核计算：一个芯片上集成多个微处理器核心
    1. 多个核心间联系非常紧密
    2. 甚至共享L1、 L2和L3
    3. 核间通过高速总线连接在一起

- 多处理器计算（并行计算）
    1. 耦合度较高、通常共享内存、追求高性能
    2. 任务并行化是难点

### 2.2 操作系统视图

• 线程(Thread)
• 进程(Process)

### 2.3 网络互联视图

• 计算机(Computer)
• 各种各样的设备

### 2.4 分布计算的定义

分布式计算以多个独立的计算机及其上软件构件所组成的系统为研究对象，它们通过网络互联，通过消息进行通信和协同。分布式计算围绕此类系统的构造和运行机理展开研究。

### 2.5 分布计算的特点

- 物理分布: 物理世界的分布性映射到信息空间
- 逻辑整体: 展现给用户的是一个统一的整体系统
- 可扩展性: 添加计算结点即可提高系统的能力
- 高可靠性: 通过结点和资源的冗余实现高度容错
- 高性价比: 通过联接和协同来构建系统
- 高灵活性: 能够兼容不同硬件厂商的产品

### 2.6 分布计算涉及的关键问题

#### 2.6.1 支持多个独立结点的协同

- 时钟和一致性问题:不存在全局时钟，为状态同
步和协同带来挑战

- 协同方式与交互模型:在物理网络基础上构建支持协
同的覆盖网（Overlay Network）

- 成员管理和可信问题:可能存在行为不可信结点和恶
意结点

#### 2.6.2 适当屏蔽“分布性”

- 访问透明性：即使有着不同风格接口，也能互相访问
- 位置透明性：“访问远程对象就像访问本地对象一样简单”
- 迁移透明性：硬件、资源、进程可以迁移
- 复制透明性：后端资源的复制（如集群化）对用户透明
- 并发透明性：不同用户并发条件下，用户得到相同体验
- 失效透明性：系统部分失效不影响整个系统功能

#### 2.6.3 系统的开放性

- 互操作性:允许异构资源和软件实体进
行互操作

- 可组装性:在网络环境下，可以直接使用
现有构件/服务组装出新的系统

- 可演化性:可以随着需求、环境的变化而
持续适应演化

#### 2.6.4 系统的可伸缩性

- 能力可伸缩:分布式系统可以整合更多的
资源、支持更多的用户

- 地理可伸缩:应对广域/移动等带来的挑战

- 管理可伸缩:当系统涉及到多个利益相关者
时，仍然能够有效管理

## 3. 计算模型

### 3.1 消息传递模型

分布式应用的最基本模型，核心要素： 消息M、 发送者
Sender和接收者Receiver

- 消息传递模型所需要的基本操作
    1. Send
    2. Receive
    3. Connect/Disconnect

- 典型消息传递模型的例子
    1. Socket
    2. 发送者将消息写入到socket
    3. 接收者从socket中提取消息

### 3.2 客户-服务器计算模型

最简单、最流行、 最经典的分布计算模型，由客户（Client）和服务器（Server）两个角色构成

### 3.3 对等计算模型peer-to-peer

- 各参与进程地位平等，有相同的性能和责任

- 任何两个之间可以互相发起请求和接收响应

- 适合即时消息、 P2P文件传输、视频会议、协同工作等

### 3.4 异步消息模型

- 信息系统构成要素：发送者（Sender）、接收者（Receiver）、消息系
统（Message System）

- 消息系统充当一些相互独立的进程之间的中介，即充当进程间消息传递
的一种交换开关

- 进程之间没有耦合关系，异步交换信息

### 3.5 远程过程调用模型RPC

远程过程调用（RPC）是一种象调用本地过程一样调用远程机器上的过程，而不需要了解网络细节的远程过程访问支持机制

### 3.6 分布对象模型

- 面向对象在分布式系统中的自然应用

- 远程过程向远程对象的自然扩展

### 3.7 分布式构件-容器模型

容器为构件提供更加抽象的运行环境

    - 基础服务支持

    - 生命周期管理

    - 维护构件之间的关系

### 3.8 面向服务模型

- 服务提供者：
    1. 一个可通过网络寻址的实体，接受和执行来自使用者的请求。
    2. 将自己的服务和接口契约发布到服务注册中心，以便服务使用者可以发现和访问该服务。

- 服务使用者：
    1. 一个应用程序、一个软件模块或需要一个服务的另一个服务。
    2. 它发起对注册中心中的服务的查询，通过传输绑定服务，并且执行服务功能。
    3. 服务使用者根据接口契约来执行服务。

- 服务注册中心：
    1. 服务发现的支持者；
    2. 它包含一个可用服务的存储库
    3. 允许感兴趣的服务使用者查找服务提供者接口
