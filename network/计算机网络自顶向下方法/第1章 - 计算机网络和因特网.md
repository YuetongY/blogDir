# 第1章 - 计算机网络和因特网

## 1.3 网络核心

由互联因特网端系统的分组交换机和链路构成的网状网络。

### 1.3.1 分组交换

分组：长报文划分为较小的数据块

两类交换机：路由器和链路层交换机

路由器和链路层交换机的区别：

- 工作层次不同：
    交换机主要工作在数据链路层（第二层）
    路由器工作在网络层（第三层）。

- 转发依据不同：
    交换机转发所依据的对象时：MAC地址。（物理地址）
    路由转发所依据的对象是：IP地址。（网络地址）

- 主要功能不同：
    交换机主要用于组建局域网，
    而路由主要功能是将由交换机组好的局域网相互连接起来，或者接入Internet。
    交换机能做的，路由都能做。
    交换机不能分割广播域，路由可以。
    路由还可以提供防火墙的功能。
    路由配置比交换机复杂。
- 价格不同：
    交换机是看门大爷，路由是邮差。

### 1.3.2 电路交换

电路交换网络中，端系统间通信会话期间，预留了端系统间沿路径通信所需要的资源（缓存，链路传输速率）。而在分组交换网络中，这些资源则不是预留的。

## 1.5 协议层次及其服务模型

### 1.5.1 分层的体系结构

#### 1.5.1.1 协议分层

因特网的协议栈由5个层次组成：物理层、链路层、网络层、传输层和应用层

1. 应用层：是网络应用程序及他们的应用层协议存留的地方。提供了主机之间的逻辑通信。应用层协议包括：HTTP、SMTP、FTP、DNS 等。位于应用层的信息分组称为`报文`

2. 运输层：为运行在不同主机上的应用进程之间提供了逻辑通信功能，在端系统中，运输层协议将来自应用进程的报文移动到网络边缘（即网络层）。主要协议包括：TCP 和 UDP。其分组称为`报文段`

3. 网络层（IP 层）：网络层负责将称为`数据报`的网络层分组从一台主机移动到另一台主机。协议有：网际协议 IP 和 路由选择协议等

4. 链路层：一个数据报可能呗沿途不同链路上的不同链路层协议处理。协议有：DOCSIS 等。分组为 `帧`

5. 物理层：将帧中的一个个比特从一个节点移动到下一个节点。以太网具有许多物理层协议：与双绞铜线、同轴电缆、光纤等有关。在每种场合中，跨越这些链路移动的比特是以不同的方式进行的。

#### 1.5.1.2 OSI 模型

一共有7层，分别是：应用层、表示层、会话层、传输层、网络层、链路层和物理层

### 1.5.2 封装

![2](http://ww1.sinaimg.cn/large/006alGmrly1g2qskuf0aqj317q0r14hu.jpg)