[toc]

# 2020.6.12

## 阅读文章 - KM - 区块链防重放方案，nonce，randomid，blocklimit

- 重放：同一个交易（有相同的流水号、交易标识、发送方、接受方、金额等），在网络中反复出现和被系统重复处理。交易分幂等和非幂等，幂等只会给系统造成处理压力，不会带来直接的损害。但是非幂等会造成大破坏，如转账。
- 处理方法：
  - 检查交易队列中是否有重复交易，无法覆盖全
  - 检查打包区块中是否有重复交易，无法覆盖全
  - 以太坊使用 nonce 机制。每个账户对应一个 nonce。如果当前交易中包含的 nonce 不是是世界状态中的　nonce+1，则出错。这种方式会出现串行问题，用户当前发送的交易要等上一笔交易处理完之后才能被处理。