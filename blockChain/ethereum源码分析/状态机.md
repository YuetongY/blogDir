# 状态机

## 什么是状态机？

就是就是状态转移图。

如果流程围绕某个事物的状态变化进行，显而易见，该轮到状态机图上场了。一个状态机图中只描述一个事物，该事物有多个状态，不同的动作作用到状态上导致状态的转换。

举个最简单的例子：

人有三个状态：健康、感冒、康复中。

触发的条件有淋雨(t1)、吃药(t2)、打针(t3)、休息(t4)。

所以状态机就是健康->(t4)->健康；健康->(t1)->感冒；感冒->(t3)->健康；感冒->(t2)->康复中；康复中->(t4)->健康等等。就是这样状态在不同的条件下，跳转到自己或不同状态的图。

状态机可归纳为4个要素，即现态、条件、动作、次态。这样的归纳，主要是出于对状态机的内在因果关系的考虑。“现态”和“条件”是因，“动作”和“次态”是果。

详解如下：

现态：是指当前所处的状态。
条件：又称为“事件”，当一个条件被满足，将会触发一个动作，或者执行一次状态的迁移。
动作：条件满足后执行的动作，动作执行完毕后，可以迁移到新的状态，也可以仍旧保持原状态。动作不是必需的，当条件满足后，也可以不执行任何动作，直接迁移到新状态。
次态：条件满足后要迁往的新状态。“次态”是相对于“现态”而言的，“次态”一旦被激活，就转变成新的“现态”了。
在了解关于状态机的文章后，结合自己的平时的学习总结，我发现：在平时的业务过程中，判断即对应状态机理论中的条件，我们做什么操作改变状态即理论中的动作，同时状态必须要有始有终，否则会出现状态卡住，无法继续正常推进。

状态机的开始一般用空心圆表示，代表状态图的起始位置。

![2](http://ww1.sinaimg.cn/large/006alGmrgy1g0rmd7b8y7j301o01o741.jpg)

结尾一般用实心圆点表示，是一个状态的终止点。

![2](http://ww1.sinaimg.cn/large/006alGmrgy1g0rmdij5s3j301o01ogld.jpg)

**参考**：[状态机入门：从定义到使用](https://www.sohu.com/a/230886244_114819)